{
  "permissions": {
    "allow": [
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_a1_grade_labels.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\":*)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e:*)",
      "WebFetch(domain:nhis.ipums.org)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/12_filter_nhis_parents.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/compare_means.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" \"C:\\Users\\marcu\\git-repositories\\Kidsights-Data-Platform\\scripts\\temp\\test_nhis_calibration.R\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/test_nhis_calibration.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/debug_nsch_design_matrix.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/28_calibrate_nsch_to_nebraska.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_nhis_vars.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/29_create_design_matrices.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/30_compute_covariance_matrices.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/30b_pool_moments.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/32_validate_block1_pooling.R)",
      "Bash(find:*)",
      "Bash(python:*)",
      "Bash(py -c:*)",
      "Bash(ls:*)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/27_calibrate_nhis_to_nebraska.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); cat(''ne25_transformed columns:\\n''); print(dbListFields(con, ''ne25_transformed'')); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); tabs <- dbListTables(con); imp_tabs <- tabs[grep(''ne25_imputed'', tabs)]; cat(''Imputed tables:\\n''); print(imp_tabs); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(arrow); moments <- readRDS(''data/raking/ne25/unified_moments.rds''); cat(''Unified Moments Structure:\\n''); cat(''Variables:'', moments[[''variable_names'']], ''\\n\\n''); cat(''Block Structure:\\n''); print(moments[[''block_structure'']]); cat(''\\n\\nMean Vector:\\n''); print(round(moments[[''mu'']], 4)); cat(''\\n\\nDimensions: '', length(moments[[''mu'']]), '' x '', nrow(moments[[''Sigma'']]), ''\\n'')\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); dat <- dbGetQuery(con, ''SELECT female, years_old, race, hisp, raceG, educ_max, educ4_max, educ6_max, educ_a1, educ_a2, fpl, puma, county, urban_rural, meets_inclusion FROM ne25_transformed WHERE meets_inclusion = TRUE LIMIT 5''); print(dat); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); dat <- dbGetQuery(con, ''SELECT * FROM ne25_imputed_female LIMIT 3''); print(dat); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); cols <- dbGetQuery(con, ''SELECT * FROM ne25_transformed LIMIT 0''); cat(''Available columns:'', paste(names(cols), collapse='', ''), ''\\n''); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); dat <- dbGetQuery(con, ''SELECT child_ace_total, child_ace_parent_divorce, child_ace_parent_death, child_ace_parent_jail, child_ace_domestic_violence, mmi100 FROM ne25_transformed LIMIT 5''); print(dat); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); dat <- dbGetQuery(con, ''SELECT COUNT(*) as n, COUNT(CASE WHEN eligible = 1 THEN 1 END) as n_eligible FROM ne25_transformed''); print(dat); dbDisconnect(con)\")",
      "Bash(if not exist \"C:\\Users\\marcu\\.claude\\plans\" mkdir \"C:\\Users\\marcu\\.claude\\plans\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); cols <- dbGetQuery(con, ''SELECT * FROM ne25_transformed LIMIT 0''); geo_cols <- names(cols)[grepl(''metro|cbsa|urban|puma|county|zip|geo'', names(cols), ignore.case=TRUE)]; cat(''Geographic columns in ne25_transformed:\\n''); print(geo_cols); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); library(dplyr); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); dat <- dbGetQuery(con, ''SELECT cbsa, cbsa_name, urban_rural, puma FROM ne25_transformed WHERE meets_inclusion = TRUE LIMIT 0''); cat(''Schema for geographic variables:\\n''); print(str(dat)); cbsa_vals <- dbGetQuery(con, ''SELECT DISTINCT cbsa, cbsa_name FROM ne25_transformed WHERE meets_inclusion = TRUE ORDER BY cbsa''); cat(''\\n\\nDistinct CBSA values:\\n''); print(cbsa_vals); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); cbsa_vals <- dbGetQuery(con, ''SELECT DISTINCT cbsa, cbsa_name FROM ne25_transformed WHERE eligible = TRUE ORDER BY cbsa_name''); cat(''Distinct CBSA values in NE25:\\n''); print(cbsa_vals); cat(''\\n''); urban_vals <- dbGetQuery(con, ''SELECT DISTINCT urban_rural FROM ne25_transformed WHERE eligible = TRUE ORDER BY urban_rural''); cat(''\\nDistinct urban_rural values:\\n''); print(urban_vals); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); cat(''Looking up Omaha and Lincoln CBSAs...\\n''); omaha <- dbGetQuery(con, \"\"SELECT cbsa FROM ne25_transformed WHERE county_name LIKE ''%Douglas%'' AND eligible = TRUE LIMIT 1\"\"); cat(''\\nOmaha metro (Douglas County) CBSA:\\n''); print(omaha); lincoln <- dbGetQuery(con, \"\"SELECT cbsa FROM ne25_transformed WHERE county_name LIKE ''%Lancaster%'' AND eligible = TRUE LIMIT 1\"\"); cat(''\\nLincoln metro (Lancaster County) CBSA:\\n''); print(lincoln); dbDisconnect(con)\")",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/32_prepare_ne25_for_weighting.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); cols <- names(dbGetQuery(con, ''SELECT * FROM ne25_transformed LIMIT 0'')); cat(''Available columns in ne25_transformed:\\n''); print(sort(cols)); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); cols <- names(dbGetQuery(con, ''SELECT * FROM ne25_transformed LIMIT 0'')); relevant <- cols[cols %in% c(''pid'', ''record_id'', ''years_old'', ''female'', ''raceG'', ''educ_mom'', ''fpl'', ''cbsa'', ''phq2_total'', ''gad2_total'', ''child_ace_total'', ''mmi100'', ''eligible'')]; cat(''Available relevant columns:\\n''); print(relevant); cat(''\\nNeed authenticity_weight? Checking...\\n''); auth_check <- try(dbGetQuery(con, ''SELECT authenticity_weight FROM ne25_transformed LIMIT 1''), silent=TRUE); if(inherits(auth_check, ''try-error'')) cat(''  authenticity_weight NOT FOUND\\n'') else cat(''  authenticity_weight FOUND\\n''); dbDisconnect(con)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_filtering_criteria.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/list_ne25_columns.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_filtering_criteria_v2.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\R.exe\" --slave --no-restore --file=run_ne25_pipeline.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/verify_new_filtering.R)",
      "Bash(timeout 600 \"C:\\Program Files\\R\\R-4.5.1\\bin\\R.exe\" --slave --no-restore --file=run_ne25_pipeline.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/imputation/ne25/run_full_imputation_pipeline.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"\nlibrary(duckdb)\ncon <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb'')\n\n# Check sample sizes at different filtering stages\ncat(''=== NE25 Sample Sizes ===\\n\\n'')\n\n# Total raw records\ntotal <- dbGetQuery(con, ''SELECT COUNT(*) as n FROM ne25_raw'')\ncat(sprintf(''Total raw records: %s\\n'', total$n))\n\n# Records in transformed table\ntransformed <- dbGetQuery(con, ''SELECT COUNT(*) as n FROM ne25_transformed'')\ncat(sprintf(''Records in ne25_transformed: %s\\n'', transformed$n))\n\n# Eligible records\neligible <- dbGetQuery(con, ''SELECT COUNT(*) as n FROM ne25_transformed WHERE eligible = TRUE'')\ncat(sprintf(''Eligible (eligible=TRUE): %s\\n'', eligible$n))\n\n# Meets inclusion (for weighting)\nmeets_inclusion <- dbGetQuery(con, ''SELECT COUNT(*) as n FROM ne25_transformed WHERE meets_inclusion = TRUE'')\ncat(sprintf(''Meets inclusion (for weighting): %s\\n'', meets_inclusion$n))\n\n# Unique individuals (pid)\nunique_individuals <- dbGetQuery(con, ''SELECT COUNT(DISTINCT pid) as n FROM ne25_transformed WHERE meets_inclusion = TRUE'')\ncat(sprintf(''Unique individuals (pid): %s\\n'', unique_individuals$n))\n\n# Check for pid + record_id combos\npid_record_combos <- dbGetQuery(con, ''SELECT COUNT(DISTINCT pid, record_id) as n FROM ne25_transformed WHERE meets_inclusion = TRUE'')\ncat(sprintf(''Unique (pid, record_id) combos: %s\\n'', pid_record_combos$n))\n\ndbDisconnect(con)\n\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_ne25_sample_sizes.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/investigate_ne25_structure.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/missing_data_report.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/diagnose_imputation_pipeline.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/test_cart_factor_behavior.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/32b_validate_ne25_harmonization.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/comparison_table.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"\nunified <- readRDS(''''data/raking/ne25/unified_moments.rds'''')\ncat(''''Current structure:\\n'''')\ncat(''''Variable names:'''', unified$variable_names, ''''\\n\\n'''')\ncat(''''Total variables:'''', length(unified$variable_names), ''''\\n'''')\ncat(''''mu (mean vector) length:'''', length(unified$mu), ''''\\n'''')\ncat(''''Sigma (covariance) dimensions:'''', dim(unified$Sigma), ''''\\n'''')\n\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_unified_moments.R)",
      "Bash(grep:*)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/run_covariance_pipeline.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_nhis_structure.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_nsch_structure.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_harmonized_output.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_puma.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/list_acs_tables.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_unified_vars.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_raking_targets.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_targets_cols.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_ne25_puma.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb'', read_only=TRUE); pumas <- dbGetQuery(con, ''SELECT DISTINCT PUMA FROM raking_targets_ne25 WHERE estimand LIKE \"\"puma_%\"\" ORDER BY PUMA''); cat(''Nebraska PUMAs from database:\\n''); print(pumas); dbDisconnect(con, shutdown=TRUE)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb'', read_only=TRUE); pumas <- dbGetQuery(con, ''SELECT DISTINCT estimand FROM raking_targets_ne25 WHERE estimand LIKE ''''puma_%'''' ORDER BY estimand''); cat(''Nebraska PUMA estimands:\\n''); print(pumas); dbDisconnect(con, shutdown=TRUE)\")",
      "Bash(mkdir:*)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); puma_sample <- dbGetQuery(con, ''SELECT puma FROM ne25_transformed WHERE puma IS NOT NULL LIMIT 10''); dbDisconnect(con); cat(''Sample PUMA values from NE25:\\n''); print(puma_sample)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); puma_stats <- dbGetQuery(con, ''SELECT COUNT(DISTINCT puma) as n_unique, COUNT(*) as n_total, SUM(CASE WHEN puma LIKE \"\"%;%\"\" THEN 1 ELSE 0 END) as n_semicolon FROM ne25_transformed WHERE puma IS NOT NULL''); dbDisconnect(con); cat(''PUMA statistics in NE25:\\n''); print(puma_stats)\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(duckdb); con <- dbConnect(duckdb(), ''data/duckdb/kidsights_local.duckdb''); puma_stats <- dbGetQuery(con, ''SELECT COUNT(DISTINCT puma) as n_unique, COUNT(*) as n_total, SUM(CASE WHEN puma LIKE ''\\''''%%;%%''\\'''' THEN 1 ELSE 0 END) as n_semicolon FROM ne25_transformed WHERE puma IS NOT NULL''); dbDisconnect(con); cat(''PUMA statistics in NE25:\\n''); print(puma_stats)\")",
      "Bash(echo 'library(duckdb); con <- dbConnect(duckdb(), \"\"data/duckdb/kidsights_local.duckdb\"\"); pumas <- dbGetQuery(con, \"\"SELECT DISTINCT PUMA FROM acs_data WHERE state = ''''nebraska'''' ORDER BY PUMA\"\"); cat(\"\"Nebraska PUMAs in ACS:\\n\"\"); print(pumas); cat(\"\"\\nTotal PUMAs:\"\", nrow(pumas), \"\"\\n\"\"); dbDisconnect(con)')",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_acs_puma_codes.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_nsch_puma.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/list_nsch_tables.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(arrow); acs <- read_feather(''data/raking/ne25/acs_north_central.feather''); cat(''ACS columns:\\n''); print(names(acs)); cat(''\\nACS shape:'', nrow(acs), ''x'', ncol(acs), ''\\n'')\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" -e \"library(arrow); acs <- read_feather(''data/raking/ne25/acs_north_central.feather''); cat(''All columns in acs_north_central.feather:\\n''); print(colnames(acs)); cat(''\\nFirst few rows:\\n''); print(head(acs[,1:11]))\")",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/25_extract_acs_north_central.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/display_unified_means.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/raking/ne25/33_compute_kl_divergence_weights.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/test_stan_compile.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_singularity.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/verify_nsch_excellent_health.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_nsch_moments.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/check_unified_excellent.R)",
      "Bash(\"C:\\Program Files\\R\\R-4.5.1\\bin\\Rscript.exe\" scripts/temp/debug_nsch_index.R)"
    ],
    "deny": [],
    "ask": []
  },
  "outputStyle": "Explanatory",
  "ignorePatterns": [
    "data/**",
    "output/**",
    "mplus/**",
    "exports/**",
    "logs/**",
    "temp/**",
    ".git/**"
  ]
}
